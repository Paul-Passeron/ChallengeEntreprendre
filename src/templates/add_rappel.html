{% extends 'layout.html' %}

{% block content %}
<h2>Ajout d'un rappel</h2>
<form action="{{ url_for('login') }}" method="POST">
    <label for="med_name">Nom du médicament :</label>
    <input type="text" id="med_name" name="med_name" required>

    <label for="period">Durée de prise du médicament en jours :</label>
    <input type="number" id="period" name="period" required>

    <label>Heures de prise du médicament :</label>
    <div id="timeInputs">
        <input type="time" name="timeInput[]" required>
    </div>
    <button type="button" onclick="addTimeInput()">Ajouter une heure</button>

    <button type="submit">Ajouter le rappel</button>
</form>

<script>
    function addTimeInput() {
        // Créer un nouvel élément input de type time
        const newInput = document.createElement('input');
        newInput.type = 'time';
        newInput.name = 'timeInput[]'; // Utiliser un tableau pour les heures
        newInput.required = true; // Rendre ce champ requis

        // Ajouter le nouvel input au div existant
        document.getElementById('timeInputs').appendChild(newInput);
    }
</script>

{% if error %}
<p style="color: red; text-align: center;">{{ error }}</p>
{% endif %}
{% endblock %}